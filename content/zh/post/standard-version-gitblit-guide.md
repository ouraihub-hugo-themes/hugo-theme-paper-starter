---
title: "ä½¿ç”¨ standard-version å®ç°è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†å’Œ CHANGELOG ç”Ÿæˆ"
description: "è¯¦ç»†æ•™ç¨‹ï¼šå¦‚ä½•åœ¨ Gitblit ç­‰ Git æœåŠ¡å™¨ä¸Šä½¿ç”¨ standard-version å®ç°è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†ã€CHANGELOG ç”Ÿæˆå’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼Œé€‚ç”¨äºä»»ä½• Git å¹³å°"
date: 2025-11-15T14:00:00+08:00
draft: false
tags: 
  - Git
  - ç‰ˆæœ¬ç®¡ç†
  - è‡ªåŠ¨åŒ–
  - DevOps
  - Gitblit
  - standard-version
  - CHANGELOG
  - è¯­ä¹‰åŒ–ç‰ˆæœ¬
categories:
  - å¼€å‘å·¥å…·
  - æœ€ä½³å®è·µ
author: "OurAIHub"
featured: true
keywords:
  - standard-version
  - è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†
  - CHANGELOG ç”Ÿæˆ
  - Gitblit
  - è¯­ä¹‰åŒ–ç‰ˆæœ¬
  - Conventional Commits
  - Git ç‰ˆæœ¬æ§åˆ¶
  - è‡ªåŠ¨åŒ–å‘å¸ƒ
  - ç‰ˆæœ¬å·ç®¡ç†
  - Git å·¥ä½œæµ
---

## å‰è¨€

åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç‰ˆæœ¬ç®¡ç†å’Œå˜æ›´æ—¥å¿—ï¼ˆCHANGELOGï¼‰çš„ç»´æŠ¤æ˜¯ä¸€é¡¹é‡è¦ä½†ç¹ççš„å·¥ä½œã€‚æ‰‹åŠ¨æ›´æ–°ç‰ˆæœ¬å·ã€ç¼–å†™ CHANGELOGã€åˆ›å»º Git tag ä¸ä»…è€—æ—¶ï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚

æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ `standard-version` å®ç°è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†ï¼Œè®©ä½ åªéœ€ä¸€æ¡å‘½ä»¤å°±èƒ½å®Œæˆç‰ˆæœ¬å‘å¸ƒçš„æ‰€æœ‰å·¥ä½œã€‚**é‡è¦çš„æ˜¯ï¼Œè¿™ä¸ªå·¥å…·ä¸ä¾èµ–ç‰¹å®šçš„ Git å¹³å°ï¼Œæ— è®ºä½ ä½¿ç”¨ GitHubã€GitLabã€Gitblit è¿˜æ˜¯å…¶ä»– Git æœåŠ¡å™¨ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ã€‚**

## ä»€ä¹ˆæ˜¯ standard-versionï¼Ÿ

`standard-version` æ˜¯ä¸€ä¸ªåŸºäº [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒçš„è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚å®ƒå¯ä»¥ï¼š

- âœ… è‡ªåŠ¨åˆ†æ Git commit å†å²
- âœ… æ ¹æ® commit ç±»å‹è‡ªåŠ¨å‡çº§ç‰ˆæœ¬å·
- âœ… è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–° CHANGELOG.md
- âœ… è‡ªåŠ¨åˆ›å»º Git tag
- âœ… æ”¯æŒæ‰€æœ‰ Git å¹³å°ï¼ˆGitHubã€GitLabã€Gitblit ç­‰ï¼‰

## æ ¸å¿ƒä¼˜åŠ¿

### 1. å¹³å°æ— å…³

`standard-version` åªä¾èµ– Gitï¼Œä¸ä¾èµ–ä»»ä½•ç‰¹å®šçš„ Git æ‰˜ç®¡å¹³å°ï¼š

- âœ… **GitHub** - å®Œç¾æ”¯æŒ
- âœ… **GitLab** - å®Œç¾æ”¯æŒ
- âœ… **Gitblit** - å®Œç¾æ”¯æŒ
- âœ… **Gitea** - å®Œç¾æ”¯æŒ
- âœ… **æœ¬åœ° Git ä»“åº“** - å®Œç¾æ”¯æŒ
- âœ… **ä»»ä½• Git æœåŠ¡å™¨** - å®Œç¾æ”¯æŒ

### 2. å®Œå…¨è‡ªåŠ¨åŒ–

ä¸€æ¡å‘½ä»¤å®Œæˆæ‰€æœ‰å·¥ä½œï¼š

```bash
pnpm release
```

è‡ªåŠ¨æ‰§è¡Œï¼š
1. åˆ†æ commit å†å²
2. ç¡®å®šç‰ˆæœ¬å·å‡çº§ç±»å‹
3. æ›´æ–° package.json
4. ç”Ÿæˆ/æ›´æ–° CHANGELOG.md
5. åˆ›å»º Git commit
6. åˆ›å»º Git tag
7. æ¨é€åˆ°è¿œç¨‹ä»“åº“

### 3. è¯­ä¹‰åŒ–ç‰ˆæœ¬

éµå¾ª [Semantic Versioning](https://semver.org/) è§„èŒƒï¼š

- `feat:` â†’ å‡çº§ **minor** ç‰ˆæœ¬ï¼ˆ1.0.0 â†’ 1.1.0ï¼‰
- `fix:` â†’ å‡çº§ **patch** ç‰ˆæœ¬ï¼ˆ1.0.0 â†’ 1.0.1ï¼‰
- `BREAKING CHANGE:` â†’ å‡çº§ **major** ç‰ˆæœ¬ï¼ˆ1.0.0 â†’ 2.0.0ï¼‰

## å®‰è£…å’Œé…ç½®

### å‰ç½®è¦æ±‚

- Node.js 18.0+
- Git
- pnpm/npm/yarnï¼ˆä»»é€‰å…¶ä¸€ï¼‰

### æ­¥éª¤ 1ï¼šå®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰
pnpm add -D standard-version

# æˆ–ä½¿ç”¨ npm
npm install --save-dev standard-version

# æˆ–ä½¿ç”¨ yarn
yarn add -D standard-version
```

### æ­¥éª¤ 2ï¼šé…ç½® package.json

åœ¨ `package.json` ä¸­æ·»åŠ å‘å¸ƒè„šæœ¬ï¼š

```json
{
  "name": "your-project",
  "version": "1.0.0",
  "scripts": {
    "release": "standard-version && git push --follow-tags origin master",
    "release:minor": "standard-version --release-as minor && git push --follow-tags origin master",
    "release:major": "standard-version --release-as major && git push --follow-tags origin master",
    "release:patch": "standard-version --release-as patch && git push --follow-tags origin master",
    "release:first": "standard-version --first-release && git push --follow-tags origin master"
  },
  "repository": {
    "type": "git",
    "url": "https://your-git-server.com/your-repo.git"
  }
}
```

**æ³¨æ„**ï¼š
- å°† `origin master` æ”¹ä¸ºä½ çš„è¿œç¨‹ä»“åº“åå’Œåˆ†æ”¯å
- å¦‚æœä½¿ç”¨ `main` åˆ†æ”¯ï¼Œæ”¹ä¸º `origin main`
- `repository.url` å¡«å†™ä½ çš„ Git ä»“åº“åœ°å€ï¼ˆGitHub/GitLab/Gitblit ç­‰ï¼‰

### æ­¥éª¤ 3ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

åˆ›å»º `.versionrc.json` æ–‡ä»¶æ¥è‡ªå®šä¹‰é…ç½®ï¼š

```json
{
  "header": "# æ›´æ–°æ—¥å¿—\n\næœ¬é¡¹ç›®çš„æ‰€æœ‰é‡è¦æ›´æ”¹éƒ½å°†è®°å½•åœ¨æ­¤æ–‡ä»¶ä¸­ã€‚\n",
  "types": [
    {"type": "feat", "section": "âœ¨ æ–°åŠŸèƒ½"},
    {"type": "fix", "section": "ğŸ› Bug ä¿®å¤"},
    {"type": "docs", "section": "ğŸ“ æ–‡æ¡£"},
    {"type": "style", "section": "ğŸ’„ æ ·å¼"},
    {"type": "refactor", "section": "â™»ï¸ é‡æ„"},
    {"type": "perf", "section": "âš¡ï¸ æ€§èƒ½ä¼˜åŒ–"},
    {"type": "test", "section": "âœ… æµ‹è¯•"},
    {"type": "build", "section": "ğŸ“¦ æ„å»º"},
    {"type": "ci", "section": "ğŸ‘· CI/CD"},
    {"type": "chore", "section": "ğŸ”§ å…¶ä»–"}
  ]
}
```

## Gitblit ç‰¹æ®Šé…ç½®

å¦‚æœä½ ä½¿ç”¨ Gitblitï¼Œå¯èƒ½éœ€è¦è‡ªå®šä¹‰é“¾æ¥æ ¼å¼ã€‚

### æ–¹æ¡ˆ 1ï¼šé…ç½® Gitblit é“¾æ¥

åœ¨ `.versionrc.json` ä¸­æ·»åŠ ï¼š

```json
{
  "types": [
    {"type": "feat", "section": "âœ¨ æ–°åŠŸèƒ½"},
    {"type": "fix", "section": "ğŸ› Bug ä¿®å¤"},
    {"type": "docs", "section": "ğŸ“ æ–‡æ¡£"},
    {"type": "chore", "section": "ğŸ”§ å…¶ä»–"}
  ],
  "commitUrlFormat": "https://your-gitblit.com/commit?r={{repository}}&h={{hash}}",
  "compareUrlFormat": "https://your-gitblit.com/compare?r={{repository}}&h={{previousTag}}..{{currentTag}}",
  "userUrlFormat": "https://your-gitblit.com/user/{{user}}"
}
```

**æ›¿æ¢è¯´æ˜**ï¼š
- `your-gitblit.com` â†’ ä½ çš„ Gitblit æœåŠ¡å™¨åœ°å€
- `{{repository}}` â†’ ä»“åº“åç§°ï¼ˆè‡ªåŠ¨æ›¿æ¢ï¼‰
- `{{hash}}` â†’ commit hashï¼ˆè‡ªåŠ¨æ›¿æ¢ï¼‰
- `{{previousTag}}` â†’ ä¸Šä¸€ä¸ªç‰ˆæœ¬ tagï¼ˆè‡ªåŠ¨æ›¿æ¢ï¼‰
- `{{currentTag}}` â†’ å½“å‰ç‰ˆæœ¬ tagï¼ˆè‡ªåŠ¨æ›¿æ¢ï¼‰

### æ–¹æ¡ˆ 2ï¼šä¸ä½¿ç”¨é“¾æ¥ï¼ˆæ¨èï¼‰

å¦‚æœ Gitblit çš„ Web UI ä¸æ”¯æŒè¿™äº›é“¾æ¥ï¼Œæˆ–è€…ä½ ä¸éœ€è¦é“¾æ¥ï¼Œå¯ä»¥ç®€åŒ–é…ç½®ï¼š

```json
{
  "types": [
    {"type": "feat", "section": "âœ¨ æ–°åŠŸèƒ½"},
    {"type": "fix", "section": "ğŸ› Bug ä¿®å¤"},
    {"type": "docs", "section": "ğŸ“ æ–‡æ¡£"},
    {"type": "style", "section": "ğŸ’„ æ ·å¼"},
    {"type": "refactor", "section": "â™»ï¸ é‡æ„"},
    {"type": "perf", "section": "âš¡ï¸ æ€§èƒ½ä¼˜åŒ–"},
    {"type": "test", "section": "âœ… æµ‹è¯•"},
    {"type": "chore", "section": "ğŸ”§ å…¶ä»–"}
  ]
}
```

è¿™æ ·ç”Ÿæˆçš„ CHANGELOG åªåŒ…å«çº¯æ–‡æœ¬ï¼Œä¸åŒ…å«é“¾æ¥ã€‚

## Conventional Commits è§„èŒƒ

ä¸ºäº†è®© `standard-version` æ­£ç¡®å·¥ä½œï¼Œä½ çš„ commit message éœ€è¦éµå¾ª Conventional Commits è§„èŒƒã€‚

### åŸºæœ¬æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Commit ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç‰ˆæœ¬å‡çº§ | ç¤ºä¾‹ |
|------|------|----------|------|
| `feat` | æ–°åŠŸèƒ½ | minor | `feat(search): æ·»åŠ å…¨æ–‡æœç´¢åŠŸèƒ½` |
| `fix` | Bug ä¿®å¤ | patch | `fix(theme): ä¿®å¤æ·±è‰²æ¨¡å¼æŒ‰é’®é¢œè‰²` |
| `docs` | æ–‡æ¡£æ›´æ–° | - | `docs(readme): æ›´æ–°å®‰è£…è¯´æ˜` |
| `style` | ä»£ç æ ¼å¼ | - | `style: æ ¼å¼åŒ–ä»£ç ` |
| `refactor` | é‡æ„ | - | `refactor(api): é‡æ„ç”¨æˆ·è®¤è¯é€»è¾‘` |
| `perf` | æ€§èƒ½ä¼˜åŒ– | patch | `perf(db): ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢` |
| `test` | æµ‹è¯• | - | `test(auth): æ·»åŠ ç™»å½•æµ‹è¯•` |
| `build` | æ„å»ºç³»ç»Ÿ | - | `build: å‡çº§ webpack åˆ° v5` |
| `ci` | CI/CD | - | `ci: æ·»åŠ è‡ªåŠ¨éƒ¨ç½²è„šæœ¬` |
| `chore` | å…¶ä»– | - | `chore(deps): å‡çº§ä¾èµ–` |

### ç¤ºä¾‹

#### æ–°åŠŸèƒ½
```bash
git commit -m "feat(user): æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½"
```

#### Bug ä¿®å¤
```bash
git commit -m "fix(login): ä¿®å¤ç™»å½•é¡µé¢éªŒè¯ç ä¸æ˜¾ç¤ºçš„é—®é¢˜"
```

#### æ–‡æ¡£æ›´æ–°
```bash
git commit -m "docs(api): æ›´æ–° API æ–‡æ¡£"
```

#### ç ´åæ€§æ›´æ”¹ï¼ˆå‡çº§ major ç‰ˆæœ¬ï¼‰
```bash
git commit -m "feat(api): é‡æ„ API æ¥å£

BREAKING CHANGE: API è·¯å¾„ä» /api/v1 æ”¹ä¸º /api/v2"
```

## ä½¿ç”¨æ–¹æ³•

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. å¼€å‘åŠŸèƒ½
# ç¼–è¾‘ä»£ç ...

# 2. æäº¤ä»£ç ï¼ˆéµå¾ª Conventional Commitsï¼‰
git add .
git commit -m "feat(dashboard): æ·»åŠ æ•°æ®ç»Ÿè®¡å›¾è¡¨"

# 3. ç»§ç»­å¼€å‘å’Œæäº¤
git commit -m "fix(chart): ä¿®å¤å›¾è¡¨æ•°æ®æ˜¾ç¤ºé”™è¯¯"
git commit -m "docs(readme): æ›´æ–°ä½¿ç”¨è¯´æ˜"

# 4. å‡†å¤‡å‘å¸ƒæ–°ç‰ˆæœ¬
pnpm release

# å®Œæˆï¼ç‰ˆæœ¬å·å·²æ›´æ–°ï¼ŒCHANGELOG å·²ç”Ÿæˆï¼Œtag å·²åˆ›å»ºå¹¶æ¨é€
```

### å‘å¸ƒå‘½ä»¤

#### è‡ªåŠ¨å‡çº§ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
```bash
pnpm release
```
æ ¹æ® commit ç±»å‹è‡ªåŠ¨å†³å®šå‡çº§ major/minor/patchã€‚

#### æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ç±»å‹
```bash
# å‡çº§ patch ç‰ˆæœ¬ï¼ˆ1.0.0 â†’ 1.0.1ï¼‰
pnpm release:patch

# å‡çº§ minor ç‰ˆæœ¬ï¼ˆ1.0.0 â†’ 1.1.0ï¼‰
pnpm release:minor

# å‡çº§ major ç‰ˆæœ¬ï¼ˆ1.0.0 â†’ 2.0.0ï¼‰
pnpm release:major
```

#### é¦–æ¬¡å‘å¸ƒ
```bash
pnpm release:first
```
ä¸å‡çº§ç‰ˆæœ¬å·ï¼Œåªç”Ÿæˆ CHANGELOG å’Œ tagã€‚

#### é¢„å‘å¸ƒç‰ˆæœ¬
```bash
# ç”Ÿæˆ 1.0.0-alpha.0
pnpm standard-version --prerelease alpha

# ç”Ÿæˆ 1.0.0-beta.0
pnpm standard-version --prerelease beta
```

### æµ‹è¯•æ¨¡å¼ï¼ˆä¸å®é™…ä¿®æ”¹æ–‡ä»¶ï¼‰

```bash
# æŸ¥çœ‹ä¼šç”Ÿæˆä»€ä¹ˆï¼Œä½†ä¸å®é™…ä¿®æ”¹æ–‡ä»¶
pnpm standard-version --dry-run

# æŸ¥çœ‹è¯¦ç»†è¾“å‡º
pnpm standard-version --dry-run --verbose
```

## ç”Ÿæˆçš„ CHANGELOG ç¤ºä¾‹

è¿è¡Œ `pnpm release` åï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆ/æ›´æ–° `CHANGELOG.md`ï¼š

```markdown
# æ›´æ–°æ—¥å¿—

æœ¬é¡¹ç›®çš„æ‰€æœ‰é‡è¦æ›´æ”¹éƒ½å°†è®°å½•åœ¨æ­¤æ–‡ä»¶ä¸­ã€‚

### [1.2.0](https://your-git-server.com/compare/v1.1.0...v1.2.0) (2025-11-15)

### âœ¨ æ–°åŠŸèƒ½

* **dashboard:** æ·»åŠ æ•°æ®ç»Ÿè®¡å›¾è¡¨ ([a1b2c3d](https://your-git-server.com/commit/a1b2c3d))
* **user:** æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½ ([e4f5g6h](https://your-git-server.com/commit/e4f5g6h))

### ğŸ› Bug ä¿®å¤

* **chart:** ä¿®å¤å›¾è¡¨æ•°æ®æ˜¾ç¤ºé”™è¯¯ ([i7j8k9l](https://your-git-server.com/commit/i7j8k9l))
* **login:** ä¿®å¤ç™»å½•é¡µé¢éªŒè¯ç ä¸æ˜¾ç¤ºçš„é—®é¢˜ ([m0n1o2p](https://your-git-server.com/commit/m0n1o2p))

### ğŸ“ æ–‡æ¡£

* **readme:** æ›´æ–°ä½¿ç”¨è¯´æ˜ ([q3r4s5t](https://your-git-server.com/commit/q3r4s5t))
* **api:** æ›´æ–° API æ–‡æ¡£ ([u6v7w8x](https://your-git-server.com/commit/u6v7w8x))

### [1.1.0](https://your-git-server.com/compare/v1.0.0...v1.1.0) (2025-11-10)

...
```

## é«˜çº§é…ç½®

### è·³è¿‡æŸäº›æ­¥éª¤

åœ¨ `.versionrc.json` ä¸­é…ç½®ï¼š

```json
{
  "skip": {
    "bump": false,      // ä¸è·³è¿‡ç‰ˆæœ¬å·å‡çº§
    "changelog": false, // ä¸è·³è¿‡ CHANGELOG ç”Ÿæˆ
    "commit": false,    // ä¸è·³è¿‡ Git commit
    "tag": false        // ä¸è·³è¿‡ Git tag
  }
}
```

### è‡ªå®šä¹‰ commit message

```json
{
  "releaseCommitMessageFormat": "chore(release): å‘å¸ƒ {{currentTag}}"
}
```

### åŒ…å«/æ’é™¤æ–‡ä»¶

```json
{
  "bumpFiles": [
    {
      "filename": "package.json",
      "type": "json"
    },
    {
      "filename": "version.txt",
      "updater": "version.js"
    }
  ]
}
```

### è‡ªå®šä¹‰ç‰ˆæœ¬å·æ ¼å¼

```json
{
  "tagPrefix": "v",
  "releaseAs": "minor"
}
```

## Git è®¤è¯é…ç½®

### HTTP(S) è®¤è¯

```bash
# æ–¹å¼ 1ï¼šä½¿ç”¨ credential helper
git config --global credential.helper store

# ç¬¬ä¸€æ¬¡æ¨é€æ—¶è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œä¹‹åä¼šè‡ªåŠ¨ä¿å­˜
git push

# æ–¹å¼ 2ï¼šåœ¨ URL ä¸­åŒ…å«è®¤è¯ä¿¡æ¯ï¼ˆä¸æ¨èï¼‰
git remote set-url origin https://username:password@your-gitblit.com/repo.git
```

### SSH è®¤è¯ï¼ˆæ¨èï¼‰

```bash
# 1. ç”Ÿæˆ SSH å¯†é’¥
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

# 2. å°†å…¬é’¥æ·»åŠ åˆ° Gitblit
cat ~/.ssh/id_rsa.pub

# 3. ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€
git remote set-url origin git@your-gitblit.com:repo.git

# 4. æµ‹è¯•è¿æ¥
ssh -T git@your-gitblit.com
```

## å›¢é˜Ÿåä½œ

### 1. ç»Ÿä¸€ Commit è§„èŒƒ

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.commitlintrc.json`ï¼š

```json
{
  "extends": ["@commitlint/config-conventional"],
  "rules": {
    "type-enum": [
      2,
      "always",
      [
        "feat",
        "fix",
        "docs",
        "style",
        "refactor",
        "perf",
        "test",
        "build",
        "ci",
        "chore"
      ]
    ]
  }
}
```

å®‰è£… commitlintï¼š

```bash
pnpm add -D @commitlint/cli @commitlint/config-conventional
```

### 2. ä½¿ç”¨ Git Hooks

å®‰è£… huskyï¼š

```bash
pnpm add -D husky
pnpm husky install
```

æ·»åŠ  commit-msg hookï¼š

```bash
pnpm husky add .husky/commit-msg 'npx --no -- commitlint --edit ${1}'
```

ç°åœ¨ï¼Œä¸ç¬¦åˆè§„èŒƒçš„ commit ä¼šè¢«æ‹’ç»ï¼š

```bash
git commit -m "update code"
# âŒ é”™è¯¯ï¼šcommit message ä¸ç¬¦åˆè§„èŒƒ

git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
# âœ… æˆåŠŸ
```

### 3. ä½¿ç”¨ Commitizenï¼ˆå¯é€‰ï¼‰

å®‰è£… commitizenï¼š

```bash
pnpm add -D commitizen cz-conventional-changelog
```

é…ç½® `package.json`ï¼š

```json
{
  "scripts": {
    "commit": "cz"
  },
  "config": {
    "commitizen": {
      "path": "cz-conventional-changelog"
    }
  }
}
```

ä½¿ç”¨äº¤äº’å¼æäº¤ï¼š

```bash
git add .
pnpm commit

# ä¼šå‡ºç°äº¤äº’å¼æç¤ºï¼Œå¼•å¯¼ä½ å¡«å†™è§„èŒƒçš„ commit message
```

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šæ¨é€å¤±è´¥

**é”™è¯¯**ï¼š
```
fatal: unable to access 'https://...': Could not resolve host
```

**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æ£€æŸ¥ Git ä»“åº“åœ°å€æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥è®¤è¯ä¿¡æ¯æ˜¯å¦æ­£ç¡®

### é—®é¢˜ 2ï¼šç‰ˆæœ¬å·æ²¡æœ‰å‡çº§

**åŸå› **ï¼šæ²¡æœ‰ç¬¦åˆè§„èŒƒçš„ commit

**è§£å†³**ï¼š
```bash
# æŸ¥çœ‹è‡ªä¸Šæ¬¡ tag ä»¥æ¥çš„ commits
git log $(git describe --tags --abbrev=0)..HEAD --oneline

# ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ª feat: æˆ– fix: ç±»å‹çš„ commit
```

### é—®é¢˜ 3ï¼šCHANGELOG æ²¡æœ‰ç”Ÿæˆ

**åŸå› **ï¼š`.versionrc.json` é…ç½®é”™è¯¯

**è§£å†³**ï¼š
```bash
# åˆ é™¤é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨é»˜è®¤é…ç½®
rm .versionrc.json

# é‡æ–°è¿è¡Œ
pnpm release
```

### é—®é¢˜ 4ï¼šTag å·²å­˜åœ¨

**é”™è¯¯**ï¼š
```
fatal: tag 'v1.0.0' already exists
```

**è§£å†³**ï¼š
```bash
# åˆ é™¤æœ¬åœ° tag
git tag -d v1.0.0

# åˆ é™¤è¿œç¨‹ tag
git push origin :refs/tags/v1.0.0

# é‡æ–°å‘å¸ƒ
pnpm release
```

## æœ€ä½³å®è·µ

### 1. Commit Message è§„èŒƒ

âœ… **å¥½çš„ç¤ºä¾‹**ï¼š
```bash
feat(auth): æ·»åŠ  OAuth2 ç™»å½•æ”¯æŒ
fix(ui): ä¿®å¤ç§»åŠ¨ç«¯èœå•æ˜¾ç¤ºé—®é¢˜
docs(api): æ›´æ–° REST API æ–‡æ¡£
perf(db): ä¼˜åŒ–ç”¨æˆ·æŸ¥è¯¢æ€§èƒ½
```

âŒ **ä¸å¥½çš„ç¤ºä¾‹**ï¼š
```bash
update code
fix bug
add feature
ä¿®æ”¹æ–‡ä»¶
```

### 2. å‘å¸ƒé¢‘ç‡

- **å°ç‰ˆæœ¬ï¼ˆpatchï¼‰**ï¼šæ¯å‘¨æˆ–æ¯ä¸¤å‘¨å‘å¸ƒä¸€æ¬¡
- **ä¸­ç‰ˆæœ¬ï¼ˆminorï¼‰**ï¼šæ¯æœˆæˆ–æ¯å­£åº¦å‘å¸ƒä¸€æ¬¡
- **å¤§ç‰ˆæœ¬ï¼ˆmajorï¼‰**ï¼šæœ‰ç ´åæ€§æ›´æ”¹æ—¶å‘å¸ƒ

### 3. ç‰ˆæœ¬å·ç­–ç•¥

éµå¾ª [Semantic Versioning](https://semver.org/)ï¼š

- **MAJOR**ï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
- **MINOR**ï¼ˆæ¬¡ç‰ˆæœ¬å·ï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **PATCH**ï¼ˆä¿®è®¢å·ï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### 4. CHANGELOG ç»´æŠ¤

- âœ… è‡ªåŠ¨ç”Ÿæˆï¼Œä¸è¦æ‰‹åŠ¨ç¼–è¾‘
- âœ… æ¯æ¬¡å‘å¸ƒéƒ½æ›´æ–°
- âœ… åŒ…å«åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­
- âœ… åœ¨ README ä¸­é“¾æ¥åˆ° CHANGELOG

### 5. Tag ç®¡ç†

- âœ… ä½¿ç”¨ `v` å‰ç¼€ï¼ˆv1.0.0ï¼‰
- âœ… æ¯ä¸ªç‰ˆæœ¬éƒ½æ‰“ tag
- âœ… Tag å’Œç‰ˆæœ¬å·ä¿æŒä¸€è‡´
- âœ… ä¸è¦åˆ é™¤å·²å‘å¸ƒçš„ tag

## ä¸ CI/CD é›†æˆ

### GitHub Actions ç¤ºä¾‹

```yaml
name: Release

on:
  workflow_dispatch:

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      
      - uses: actions/setup-node@v4
        with:
          node-version: '18'
      
      - name: Install dependencies
        run: npm install
      
      - name: Release
        run: |
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          npm run release
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

### GitLab CI ç¤ºä¾‹

```yaml
release:
  stage: release
  only:
    - master
  script:
    - npm install
    - git config user.name "GitLab CI"
    - git config user.email "ci@gitlab.com"
    - npm run release
  when: manual
```

## æ€»ç»“

`standard-version` æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå®ƒï¼š

- âœ… **å¹³å°æ— å…³** - æ”¯æŒæ‰€æœ‰ Git æœåŠ¡å™¨ï¼ˆGitHubã€GitLabã€Gitblit ç­‰ï¼‰
- âœ… **å®Œå…¨è‡ªåŠ¨åŒ–** - ä¸€æ¡å‘½ä»¤å®Œæˆæ‰€æœ‰å·¥ä½œ
- âœ… **è§„èŒƒåŒ–** - å¼ºåˆ¶ä½¿ç”¨ Conventional Commits å’Œ Semantic Versioning
- âœ… **å¯å®šåˆ¶** - æ”¯æŒè‡ªå®šä¹‰é…ç½®
- âœ… **æ˜“äºé›†æˆ** - å¯ä¸ CI/CD æ— ç¼é›†æˆ

é€šè¿‡ä½¿ç”¨ `standard-version`ï¼Œä½ å¯ä»¥ï¼š

1. èŠ‚çœæ—¶é—´ - ä¸å†æ‰‹åŠ¨ç»´æŠ¤ CHANGELOG
2. å‡å°‘é”™è¯¯ - è‡ªåŠ¨åŒ–æµç¨‹é¿å…äººä¸ºå¤±è¯¯
3. æé«˜è´¨é‡ - è§„èŒƒçš„ commit å’Œç‰ˆæœ¬ç®¡ç†
4. æ”¹å–„åä½œ - å›¢é˜Ÿæˆå‘˜éµå¾ªç»Ÿä¸€è§„èŒƒ

## å‚è€ƒèµ„æº

- [standard-version å®˜æ–¹æ–‡æ¡£](https://github.com/conventional-changelog/standard-version)
- [Conventional Commits è§„èŒƒ](https://www.conventionalcommits.org/)
- [Semantic Versioning è§„èŒƒ](https://semver.org/)
- [commitlint æ–‡æ¡£](https://commitlint.js.org/)
- [Gitblit å®˜æ–¹ç½‘ç«™](https://gitblit.com/)

## ç›¸å…³æ–‡ç« 

- [Git å·¥ä½œæµæœ€ä½³å®è·µ](/post/git-workflow-best-practices/)
- [å¦‚ä½•ç¼–å†™ä¼˜ç§€çš„ Commit Message](/post/writing-good-commit-messages/)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è¯¦è§£](/post/semantic-versioning-guide/)

---

**æ ‡ç­¾**ï¼š#Git #ç‰ˆæœ¬ç®¡ç† #è‡ªåŠ¨åŒ– #DevOps #Gitblit #CHANGELOG

**å…³é”®è¯**ï¼šstandard-version, è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†, CHANGELOG ç”Ÿæˆ, Gitblit, è¯­ä¹‰åŒ–ç‰ˆæœ¬, Conventional Commits, Git ç‰ˆæœ¬æ§åˆ¶
